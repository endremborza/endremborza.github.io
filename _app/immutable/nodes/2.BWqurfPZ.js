import{a as Q,f as rt,c as Lt}from"../chunks/KZkAz1NI.js";import"../chunks/gq3X6CdA.js";import{A as mt,Y as Et,b0 as It,ah as Nt,a2 as it,m as E,b1 as Ot,b2 as Rt,b3 as qt,q as Pt,b4 as Z,b5 as Bt,aT as _t,h as ot,a0 as bt,b6 as K,b7 as At,a7 as st,a1 as wt,z as q,o as d,p as D,a5 as U,a4 as G,ad as P,a8 as jt,a6 as Wt,a$ as Dt,b8 as Ut,a3 as Gt}from"../chunks/Qqp3OxqL.js";import{h as Zt}from"../chunks/C39yKayF.js";import{i as St}from"../chunks/X-MqKUA9.js";import{a as Kt,s as Vt,e as Xt}from"../chunks/PZRR7KSv.js";import{i as Yt}from"../chunks/C4IcpQly.js";import{t as Jt,s as et,e as Qt,h as Ht,d as te}from"../chunks/CuE3JgXo.js";import{p as Y}from"../chunks/DaBJWKdU.js";const ee=()=>performance.now(),I={tick:e=>requestAnimationFrame(e),now:()=>ee(),tasks:new Set};function yt(){const e=I.now();I.tasks.forEach(t=>{t.c(e)||(I.tasks.delete(t),t.f())}),I.tasks.size!==0&&I.tick(yt)}function re(e){let t;return I.tasks.size===0&&I.tick(yt),{promise:new Promise(r=>{I.tasks.add(t={c:e,f:r})}),abort(){I.tasks.delete(t)}}}function J(e,t){_t(()=>{e.dispatchEvent(new CustomEvent(t))})}function ie(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function ft(e){const t={},r=e.split(";");for(const n of r){const[a,i]=n.split(":");if(!a||i===void 0)break;const s=ie(a.trim());t[s]=i.trim()}return t}const ne=e=>e;function ae(e,t,r){var n=mt,a=n.nodes,i,s,o,u=null;a.a??={element:e,measure(){i=this.element.getBoundingClientRect()},apply(){if(o?.abort(),s=this.element.getBoundingClientRect(),i.left!==s.left||i.right!==s.right||i.top!==s.top||i.bottom!==s.bottom){const f=t()(this.element,{from:i,to:s},r?.());o=H(this.element,f,void 0,1,()=>{o?.abort(),o=void 0})}},fix(){if(!e.getAnimations().length){var{position:f,width:l,height:h}=getComputedStyle(e);if(f!=="absolute"&&f!=="fixed"){var p=e.style;u={position:p.position,width:p.width,height:p.height,transform:p.transform},p.position="absolute",p.width=l,p.height=h;var _=e.getBoundingClientRect();if(i.left!==_.left||i.top!==_.top){var S=`translate(${i.left-_.left}px, ${i.top-_.top}px)`;p.transform=p.transform?`${p.transform} ${S}`:S}}}},unfix(){if(u){var f=e.style;f.position=u.position,f.width=u.width,f.height=u.height,f.transform=u.transform}}},a.a.element=e}function lt(e,t,r,n){var a=(e&Rt)!==0,i=(e&Bt)!==0,s=a&&i,o=(e&Ot)!==0,u=s?"both":a?"in":"out",f,l=t.inert,h=t.style.overflow,p,_;function S(){return _t(()=>f??=r()(t,n?.()??{},{direction:u}))}var b={is_global:o,in(){if(t.inert=l,!a){_?.abort(),_?.reset?.();return}i||p?.abort(),J(t,"introstart"),p=H(t,S(),_,1,()=>{J(t,"introend"),p?.abort(),p=f=void 0,t.style.overflow=h})},out(x){if(!i){x?.(),f=void 0;return}t.inert=!0,J(t,"outrostart"),_=H(t,S(),p,0,()=>{J(t,"outroend"),x?.()})},stop:()=>{p?.abort(),_?.abort()}},z=mt;if((z.nodes.t??=[]).push(b),a&&Kt){var M=o;if(!M){for(var w=z.parent;w&&(w.f&Et)!==0;)for(;(w=w.parent)&&(w.f&It)===0;);M=!w||(w.f&Nt)!==0}M&&it(()=>{E(()=>b.in())})}}function H(e,t,r,n,a){var i=n===1;if(qt(t)){var s,o=!1;return Pt(()=>{if(!o){var z=t({direction:i?"in":"out"});s=H(e,z,r,n,a)}}),{abort:()=>{o=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r?.deactivate(),!t?.duration)return a(),{abort:Z,deactivate:Z,reset:Z,t:()=>n};const{delay:u=0,css:f,tick:l,easing:h=ne}=t;var p=[];if(i&&r===void 0&&(l&&l(0,1),f)){var _=ft(f(0,1));p.push(_,_)}var S=()=>1-n,b=e.animate(p,{duration:u,fill:"forwards"});return b.onfinish=()=>{b.cancel();var z=r?.t()??1-n;r?.abort();var M=n-z,w=t.duration*Math.abs(M),x=[];if(w>0){var N=!1;if(f)for(var O=Math.ceil(w/16.666666666666668),k=0;k<=O;k+=1){var $=z+M*h(k/O),B=ft(f($,1-$));x.push(B),N||=B.overflow==="hidden"}N&&(e.style.overflow="hidden"),S=()=>{var R=b.currentTime;return z+M*h(R/w)},l&&re(()=>{if(b.playState!=="running")return!1;var R=S();return l(R,1-R),!0})}b=e.animate(x,{duration:w,fill:"forwards"}),b.onfinish=()=>{S=()=>n,l?.(n,1-n),a()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=Z)},deactivate:()=>{a=Z},reset:()=>{n===0&&l?.(1,0)},t:()=>S()}}function ct(e,t,r,n,a,i){var s=e.__className;if(ot||s!==r||s===void 0){var o=Jt(r,n);(!ot||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):e.className=o),e.__className=r}return i}class nt{#t=new WeakMap;#e;#r;static entries=new WeakMap;constructor(t){this.#r=t}observe(t,r){var n=this.#t.get(t)||new Set;return n.add(r),this.#t.set(t,n),this.#i().observe(t,this.#r),()=>{var a=this.#t.get(t);a.delete(r),a.size===0&&(this.#t.delete(t),this.#e.unobserve(t))}}#i(){return this.#e??(this.#e=new ResizeObserver(t=>{for(var r of t){nt.entries.set(r.target,r);for(var n of this.#t.get(r.target)||[])n(r)}}))}}var oe=new nt({box:"border-box"});function ut(e,t,r){var n=oe.observe(e,()=>r(e[t]));it(()=>(E(()=>r(e[t])),n))}const V=720;function se(e){const t=[1,1];for(;t.length<e;){let r=t.length;t.push(t[r-1]+t[r-2])}return t}function fe(e,t,r){let n=r.length,a=r[n-1],i=a+r[n-2];if(e>V*2&&t>V*i/a)return{padLoc:"none",isMaxed:!0,unit:V/a,isLandscape:!1,pSize:0};let s=!1,o=r[n-2],u=r[Math.max(0,n-4)],f=!0;if(t<=e*((a+o)/i)){if(t>=e*((a+u)/i)){let h=t-e*(a/i);return{unit:e/i,isLandscape:f,padLoc:"top",pSize:h,isMaxed:s}}if(e>=t*((i+u)/a)){let h=e-t*(i/a);return{unit:t/a,isLandscape:f,padLoc:"left",pSize:h,isMaxed:s}}}if(f=!1,e<=t*(a+o)/i){let h=t-e*(i/a);if(h>0)return{unit:e/a,isLandscape:f,padLoc:"top",pSize:h,isMaxed:s}}let l=e-t*(a/i);return{unit:t/i,isLandscape:f,padLoc:"left",pSize:l,isMaxed:s}}function le(e,t,r,n,a){const i=[];if(t==null||isNaN(t))return i;let s=a/2,o=a/2;if(e.isMaxed){let{topPad:l,leftPad:h}=dt(t,r,n);s=l,o=h}let u=e.pSize;e.padLoc=="left"&&(i.push({top:s,left:o,width:u,height:r}),o+=u),e.padLoc=="top"&&(i.push({top:s,left:o,width:t,height:u}),s+=u);let f=0;if(e.isLandscape&&(f=3,s+=n[n.length-1]*e.unit),pt(i,n,o,s,f,e.unit),e.isMaxed){let{height:l,width:h,topPad:p,leftPad:_}=dt(t,r,n),S=h+_,b=l+p;pt(i,n,S,b,2,e.unit)}return i.sort((l,h)=>Math.min(h.height,h.width)-Math.min(l.height,l.width)),i}function dt(e,t,r){let n=r.length,a=r[n-1],i=a+r[n-2],s=V*i/a,o=V*2;return{height:s,width:o,topPad:(t-s)/2,leftPad:(e-o)/2}}const ht=["right","down","left","up"];function pt(e,t,r,n,a,i){function s(o,u,f){let l={width:o,height:u};f=="right"?(e.push({top:n,left:r,...l}),r+=o,n+=u):f=="down"?(r-=o,e.push({top:n,left:r,...l}),n+=u):f=="left"?(n-=u,r-=o,e.push({top:n,left:r,...l})):f=="up"&&(n-=u,e.push({top:n,left:r,...l}),r+=o)}for(let o=0;o<t.length;o++){let u=t[t.length-1-o]*i;s(u,u,ht[a]),a=(a+1)%ht.length}}function vt(e){return`top: ${e.top}px; left: ${e.left}px; width: ${e.width}px; height: ${e.height}px;`}function ce(e){const t=e-1;return t*t*t+1}function ue(e){return--e*e*e*e*e+1}function de(e,{from:t,to:r},n={}){var{delay:a=0,duration:i=k=>Math.sqrt(k)*120,easing:s=ce}=n,o=getComputedStyle(e),u=o.transform==="none"?"":o.transform,[f,l]=o.transformOrigin.split(" ").map(parseFloat);f/=e.clientWidth,l/=e.clientHeight;var h=he(e),p=e.clientWidth/r.width/h,_=e.clientHeight/r.height/h,S=t.left+t.width*f,b=t.top+t.height*l,z=r.left+r.width*f,M=r.top+r.height*l,w=(S-z)*p,x=(b-M)*_,N=t.width/r.width,O=t.height/r.height;return{delay:a,duration:typeof i=="function"?i(Math.sqrt(w*w+x*x)):i,easing:s,css:(k,$)=>{var B=$*w,R=$*x,A=k+$*N,j=k+$*O;return`transform: ${u} translate(${B}px, ${R}px) scale(${A}, ${j});`}}}function he(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}function pe(e){const t=e-1;return t*t*t+1}function gt(e,t){for(const r in t)e[r]=t[r];return e}function ve({fallback:e,...t}){const r=new Map,n=new Map;function a(s,o,u){const{delay:f=0,duration:l=k=>Math.sqrt(k)*30,easing:h=pe}=gt(gt({},t),u),p=s.getBoundingClientRect(),_=o.getBoundingClientRect(),S=p.left-_.left,b=p.top-_.top,z=p.width/_.width,M=p.height/_.height,w=Math.sqrt(S*S+b*b),x=getComputedStyle(o),N=x.transform==="none"?"":x.transform,O=+x.opacity;return{delay:f,duration:typeof l=="function"?l(w):l,easing:h,css:(k,$)=>`
			   opacity: ${k*O};
			   transform-origin: top left;
			   transform: ${N} translate(${$*S}px,${$*b}px) scale(${k+(1-k)*z}, ${k+(1-k)*M});
		   `}}function i(s,o,u){return(f,l)=>(s.set(l.key,f),()=>{if(o.has(l.key)){const h=o.get(l.key);return o.delete(l.key),a(h,f,l)}return s.delete(l.key),e&&e(f,l,u)})}return[i(n,r,!1),i(r,n,!0)]}var ge=rt('<div><div><h2 class="svelte-8f7zz9"> </h2> <span class="svelte-8f7zz9"><!></span></div></div>'),me=rt('<div class="container svelte-8f7zz9"><!></div>');function _e(e,t){bt(t,!1);const r=P(),n=P(),a=P(),i=P(),s=P();let o=Y(t,"tileContents",8),u=Y(t,"rootId",8),f=Y(t,"n",8,5),l=Y(t,"gap",8,8),h=se(f());function p(c){let g=o()[c.id];if(g==null)return;const v=[];M(v,g,c.id),x(v,d(s)),w(v,f()),q(s,v)}function _(c,g){return`var(--palette-${c%3})`}const[S,b]=ve({duration:c=>Math.sqrt(c*200),fallback(c,g){const v=getComputedStyle(c),m=v.transform==="none"?"":v.transform;return{duration:600,easing:ue,css:y=>`
				transform: ${m} scale(${y});
				opacity: ${y}
			`}}});function z(c,g){const v=[];for(const[m,y]of Object.entries(c)){if(v.length>g-2)break;let C=!1;for(const T of v)if(T.id==m){C=!0;break}C||M(v,y,m)}return w(v,g),v}function M(c,g,v){c.push({title:g.title,body:g.body,id:v});for(const m of g.children||[]){if(c.length>f()-2)break;let y=o()[m];y==null&&console.error("tc",v,"children",g.children,"child",m),c.push({title:y.title,body:y.body,id:m})}}function w(c,g){let v=!1;for(const m of c)if(m.id==u()){v=!0;break}for(;c.length<=g;){let m=c.length;!v&&m==g?c.push({title:o()[u()].title,body:"",id:u()}):c.push({title:"",body:"",id:`_empty${m}`})}}function x(c,g){let v=c.map(m=>m.id);for(const m of g)if(v.includes(m.id)||c.push(m),c.length>f()-2)break}function N(c,g){return g.id.startsWith("_")||c==0?"":"clickable"}function O(c,g){return c.width<100||c.height<30?!1:(c.width-48)*(c.height-48)/Math.pow(32,2)>g.title.length}function k(c,g){let v=(c.height*4+c.width)/5,m=7,y=20,C=Math.min(Math.floor(Math.max(v*.04,m)),y);return{minFontSize:m,maxFontSize:y,fontSize:C}}function $(c,g,v,m){let y=v[c],{fontSize:C}=k(y),T=c==0?100:Math.min(Math.floor((y.height-50)/C),10);return[`--col:${_(c)}`,`--clamp: ${T}`,`font-size: ${C}px`].join("; ")}function B(c,g,v){if(g.id.startsWith("_"))return"noheader nocontent";let m=v[c],{fontSize:y,minFontSize:C}=k(m,d(a));return O(m,g)?y==C?"headed nocontent":"headed contented":"noheader nocontent"}let R=500,A=P(),j=P();K(()=>(d(A),D(l())),()=>{q(r,d(A)-l())}),K(()=>(d(j),D(l())),()=>{q(n,d(j)-l())}),K(()=>(d(r),d(n)),()=>{q(a,fe(d(r),d(n),h))}),K(()=>(d(a),d(r),d(n),D(l())),()=>{q(i,le(d(a),d(r),d(n),h,l()))}),K(()=>(D(o()),D(f())),()=>{q(s,z(o(),f()))}),At(),St();var W=me(),kt=U(W);{var xt=c=>{var g=Lt(),v=jt(g);Qt(v,9,()=>(d(s),d(i),E(()=>d(s).slice(0,d(i).length).entries())),([m,y])=>y.id,(m,y)=>{var C=Dt(()=>Ut(d(y),2));let T=()=>d(C)[0],F=()=>d(C)[1];var L=ge(),X=U(L),tt=U(X),zt=U(tt,!0);G(tt);var at=Wt(tt,2),Mt=U(at);Ht(Mt,()=>(F(),E(()=>F().body))),G(at),G(X),G(L),st(($t,Ct,Tt,Ft)=>{ct(L,1,`abs ${$t??""}`,"svelte-8f7zz9"),et(L,Ct),ct(X,1,`tile ${Tt??""}`,"svelte-8f7zz9"),et(X,Ft),Vt(zt,(F(),E(()=>F().title)))},[()=>(T(),F(),E(()=>N(T(),F()))),()=>(D(vt),d(i),T(),E(()=>vt(d(i)[T()]))),()=>(T(),F(),d(i),E(()=>B(T(),F(),d(i)))),()=>(T(),d(a),d(i),E(()=>$(T(),d(a),d(i),h)))]),Xt("click",L,()=>p(F())),lt(1,L,()=>b,()=>({key:F().id})),lt(2,L,()=>S,()=>({key:F().id})),ae(L,()=>de,()=>({duration:R})),Q(m,L)}),Q(c,g)};Yt(kt,c=>{d(j)!=null&&d(A)!=null&&c(xt)})}G(W),st(()=>et(W,`--gap: ${l()??""}px; --trans: 500ms`)),ut(W,"clientWidth",c=>q(A,c)),ut(W,"clientHeight",c=>q(j,c)),Q(e,W),wt()}var be=rt('<div class="svelte-1uha8ag"><!></div>');function Te(e,t){bt(t,!1);let r=Object.fromEntries(te.map(i=>[i.id,i]));St();var n=be();Zt("1uha8ag",i=>{it(()=>{Gt.title="Endre Mark Borza"})});var a=U(n);_e(a,{get tileContents(){return r},rootId:"home"}),G(n),Q(e,n),wt()}export{Te as component};
