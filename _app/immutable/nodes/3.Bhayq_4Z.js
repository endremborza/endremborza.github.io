import{a as y,f as g}from"../chunks/KZkAz1NI.js";import"../chunks/gq3X6CdA.js";import{o as M}from"../chunks/BFbad_Hq.js";import{a9 as G,aa as P,m as B,ab as D,h as F,O as f,ac as U,a0 as V,o as m,a1 as H,a5 as k,a6 as A,a4 as K,z as d,ad as S,a7 as T}from"../chunks/Qqp3OxqL.js";import{e as z,s as I}from"../chunks/PZRR7KSv.js";import{i as J}from"../chunks/C4IcpQly.js";import{r as R}from"../chunks/NZX9AYb3.js";import{i as W}from"../chunks/X-MqKUA9.js";function Z(e,t,s=t){var r=new WeakSet;G(e,"input",async n=>{var a=n?e.defaultValue:e.value;if(a=p(e)?b(a):a,s(a),f!==null&&r.add(f),await P(),a!==(a=t())){var l=e.selectionStart,c=e.selectionEnd,i=e.value.length;if(e.value=a??"",c!==null){var v=e.value.length;l===c&&c===i&&v>i?(e.selectionStart=v,e.selectionEnd=v):(e.selectionStart=l,e.selectionEnd=Math.min(c,v))}}}),(F&&e.defaultValue!==e.value||B(t)==null&&e.value)&&(s(p(e)?b(e.value):e.value),f!==null&&r.add(f)),D(()=>{var n=t();if(e===document.activeElement){var a=U??f;if(r.has(a))return}p(e)&&n===b(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function p(e){var t=e.type;return t==="number"||t==="range"}function b(e){return e===""?null:+e}const w=new TextEncoder,j=new TextDecoder;function h(e){return btoa(String.fromCharCode(...e))}function _(e){return Uint8Array.from(atob(e),t=>t.charCodeAt(0))}async function q(e,t,{iterations:s=6e5,hash:r="SHA-256"}={}){const n=crypto.getRandomValues(new Uint8Array(16)),a=crypto.getRandomValues(new Uint8Array(12)),l=await crypto.subtle.importKey("raw",w.encode(e),"PBKDF2",!1,["deriveKey"]),c=await crypto.subtle.deriveKey({name:"PBKDF2",salt:n,iterations:s,hash:r},l,{name:"AES-GCM",length:256},!1,["encrypt"]),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:a},c,w.encode(t));return{salt:h(n),iv:h(a),ciphertext:h(new Uint8Array(i)),params:{iterations:s,hash:r}}}async function O(e,t){const{salt:s,iv:r,ciphertext:n,params:a}=t,l=await crypto.subtle.importKey("raw",w.encode(e),"PBKDF2",!1,["deriveKey"]),c=await crypto.subtle.deriveKey({name:"PBKDF2",salt:_(s),iterations:a.iterations,hash:a.hash},l,{name:"AES-GCM",length:256},!1,["decrypt"]);try{const i=await crypto.subtle.decrypt({name:"AES-GCM",iv:_(r)},c,_(n));return j.decode(i)}catch{return null}}var X=g("<p> </p>"),L=g("<p>wrong</p>"),N=g('<div class="container svelte-1bv7ezn"><input/> <button>Unlock</button> <!></div>');function oe(e,t){V(t,!1),M(async()=>{const o=await q("cantona","endremborza@gmail.com");console.log(o)});let s=S(""),r=S(null);const n={salt:"ytWZol/ZRpyvJisScmkM0g==",iv:"LW270CqXdq8AI5f0",ciphertext:"n+Ku9dkP/Tjxcx+5w+VHJFOcrXHjG7SZJTihgn3lBI4tx/0b3A==",params:{iterations:6e5,hash:"SHA-256"}};async function a(){d(r,"checking");let o=await O(m(s),n);o?d(r,o):d(r,`${m(s)} is wrong`)}W();var l=N(),c=k(l);R(c);var i=A(c,2),v=A(i,2);{var x=o=>{var u=X(),C=k(u,!0);K(u),T(()=>I(C,m(r))),y(o,u)},E=o=>{var u=L();y(o,u)};J(v,o=>{m(r)?o(x):o(E,!1)})}K(l),Z(c,()=>m(s),o=>d(s,o)),z("click",i,a),y(e,l),H()}export{oe as component};
